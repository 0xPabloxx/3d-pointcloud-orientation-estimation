# 4å³°MvM Weightä¸å¹³è¡¡é—®é¢˜ä¿®å¤å®éªŒ

**æ—¥æœŸ**: 2025-11-13
**å®éªŒID**: exp_20251113_weight_fix
**çŠ¶æ€**: âœ… é—®é¢˜å·²è¯†åˆ« â†’ ğŸ”§ ä¿®å¤ä¸­ï¼ˆè®­ç»ƒè¿›è¡Œä¸­ï¼‰

---

## ğŸ“‹ æ‰§è¡Œæ‘˜è¦

å‘ç°å¹¶ä¿®å¤äº†4å³°von Mises Mixtureæ¨¡å‹çš„**ä¸¥é‡weightä¸å¹³è¡¡é—®é¢˜**ï¼š

**é—®é¢˜**: è™½ç„¶æ¨¡å‹é¢„æµ‹çš„4ä¸ªå³°ä½ç½®ï¼ˆÎ¼ï¼‰åŸºæœ¬æ­£ç¡®ï¼Œä½†æƒé‡åˆ†å¸ƒä¸¥é‡åæ–œï¼ˆ[1.0, 0, 0, 0]è€ŒéGTçš„[0.25, 0.25, 0.25, 0.25]ï¼‰ï¼Œå¯¼è‡´å¯è§†åŒ–åªæ˜¾ç¤º1ä¸ªå³°ã€‚

**æ ¹æœ¬åŸå› **:
1. æ¸©åº¦å‚æ•°`temp=0.7`è¿‡å°ï¼Œæ”¾å¤§logitå·®å¼‚ï¼Œå¯¼è‡´softmaxåæƒé‡é›†ä¸­
2. Losså‡½æ•°åªä¼˜åŒ–Î¼å’ŒÎºï¼Œæ²¡æœ‰æ˜¾å¼ä¼˜åŒ–weightå‡†ç¡®æ€§

**è§£å†³æ–¹æ¡ˆ**:
1. âœ… ä¿®æ”¹`temp`ä»0.7â†’2.0ï¼ˆå¹³æ»‘æƒé‡åˆ†å¸ƒï¼‰
2. âœ… æ·»åŠ weight KLæ•£åº¦lossï¼ˆæ˜¾å¼ä¼˜åŒ–weightåŒ¹é…ï¼‰
3. âœ… é‡æ–°è®­ç»ƒæ¨¡å‹ï¼ˆè¿›è¡Œä¸­ï¼Œé¢„è®¡50åˆ†é’Ÿï¼‰

---

## 1. é—®é¢˜å‘ç°è¿‡ç¨‹

### 1.1 ç”¨æˆ·åé¦ˆ

ç”¨æˆ·æŸ¥çœ‹å¯è§†åŒ–åå‘ç°ï¼š
> "fixed 4 peaks von mosesåº”è¯¥æœ‰å››ä¸ªå³°ï¼Œä¸ºä»€ä¹ˆvisualizationåªæœ‰ä¸€ä¸ªå³°ï¼Ÿ"

### 1.2 è°ƒè¯•åˆ†æ

åˆ›å»ºè°ƒè¯•è„šæœ¬`debug_visualization.py`æ£€æŸ¥GTå’Œé¢„æµ‹ï¼š

```
Ground Truth Parameters:
  Peak 1: Î¼= -2.949 rad (-168.95Â°), Îº=  8.00, Ï€=0.2500
  Peak 2: Î¼=  0.193 rad (  11.05Â°), Îº=  8.00, Ï€=0.2500
  Peak 3: Î¼=  1.764 rad ( 101.05Â°), Îº=  8.00, Ï€=0.2500
  Peak 4: Î¼= -1.378 rad ( -78.95Â°), Îº=  8.00, Ï€=0.2500

Model Predictions:
  Peak 1: Î¼= -2.968 rad (-170.06Â°), Îº=  8.02, Ï€=1.0000  âŒ
  Peak 2: Î¼= -1.250 rad ( -71.60Â°), Îº=  4.23, Ï€=0.0000  âŒ
  Peak 3: Î¼=  0.320 rad (  18.33Â°), Îº=  4.55, Ï€=0.0000  âŒ
  Peak 4: Î¼=  1.860 rad ( 106.54Â°), Îº=  3.81, Ï€=0.0000  âŒ

æ£€æµ‹åˆ°çš„å³°æ•°é‡:
  GTåˆ†å¸ƒ: 4 ä¸ªå³°
  é¢„æµ‹åˆ†å¸ƒ: 1 ä¸ªå³°
```

**å…³é”®å‘ç°**:
- âœ… Î¼ä½ç½®åŸºæœ¬æ­£ç¡®ï¼ˆä¸GTç›¸å·®Â±10Â°å·¦å³ï¼‰
- âŒ Weightå®Œå…¨é”™è¯¯ï¼ˆç¬¬1ä¸ªå³°æƒé‡=1.0ï¼Œå…¶ä»–3ä¸ª=0ï¼‰

---

## 2. æ ¹æœ¬åŸå› åˆ†æ

### 2.1 æ¸©åº¦å‚æ•°é—®é¢˜

åœ¨`models/pointnet_pp_mvM.py:106`:

```python
logit_pi = self.head_pi(feat) / self.temp  # temp = 0.7
weight = F.softmax(logit_pi, dim=-1)
```

**é—®é¢˜**: `temp < 1`ä¼š**æ”¾å¤§**logitå·®å¼‚ï¼š

```python
# ç¤ºä¾‹ï¼šlogit = [0.1, 0.05, -0.05, -0.1]

# temp = 0.7ï¼ˆæ—§ï¼‰
logit_scaled = [0.14, 0.07, -0.07, -0.14]
softmax â†’ [0.89, 0.06, 0.03, 0.02]  # é›†ä¸­ï¼

# temp = 2.0ï¼ˆæ–°ï¼‰
logit_scaled = [0.05, 0.025, -0.025, -0.05]
softmax â†’ [0.34, 0.27, 0.22, 0.17]  # å¹³æ»‘ï¼
```

**æ•™è®­**: æ¸©åº¦å‚æ•°çš„ç‰©ç†æ„ä¹‰ï¼š
- `temp < 1`: å°–é”åŒ–åˆ†å¸ƒï¼ˆone-hotåŒ–ï¼‰
- `temp = 1`: æ ‡å‡†softmax
- `temp > 1`: å¹³æ»‘åŒ–åˆ†å¸ƒï¼ˆå‡åŒ€åŒ–ï¼‰

å¯¹äº4å³°å¯¹ç§°ç‰©ä½“ï¼Œåº”è¯¥ä½¿ç”¨`temp >= 1`æ¥é¼“åŠ±å‡åŒ€åˆ†å¸ƒã€‚

### 2.2 Losså‡½æ•°ç¼ºé™·

å½“å‰lossåªç”¨weightæ¥åŠ æƒKLæ•£åº¦ï¼š

```python
# æ—§loss
loss = sum(w_pred[i] * KL(pred[i], gt[matched[i]]) for i in range(K))
```

**é—®é¢˜**: æ²¡æœ‰æ˜¾å¼ä¼˜åŒ–`w_pred`ä¸`w_gt`çš„åŒ¹é…ï¼

åªè¦`w_pred[dominant] â‰ˆ 1`ï¼Œå³ä½¿å…¶ä»–å³°çš„weightä¸º0ï¼Œæ€»lossä¹Ÿå¯èƒ½å¾ˆå°ï¼ˆå› ä¸ºä¸»å³°çš„Î¼å’ŒÎºå‡†ç¡®ï¼‰ã€‚

**è§£å†³**: æ·»åŠ weightæ­£åˆ™åŒ–ï¼š

```python
# æ–°loss
kl_loss = sum(w_pred[i] * KL(pred[i], gt[matched[i]]) for i in range(K))
weight_loss = KL_divergence(w_pred, w_gt)  # æ˜¾å¼ä¼˜åŒ–weight
total_loss = kl_loss + 0.1 * weight_loss
```

---

## 3. è§£å†³æ–¹æ¡ˆå®æ–½

### 3.1 ä¿®æ”¹æ¨¡å‹å‚æ•°

**æ–‡ä»¶**: `models/pointnet_pp_mvM.py`

```python
# æ”¹åŠ¨å‰
def __init__(self, ..., temp: float = 0.7):

# æ”¹åŠ¨å
def __init__(self, ..., temp: float = 2.0):  # å¹³æ»‘æƒé‡åˆ†å¸ƒ
```

### 3.2 æ·»åŠ Weight Losså‡½æ•°

**æ–‡ä»¶**: `train_pointnetpp_mvm_glassbox_fixed_weight.py`

```python
def weight_loss(w_pred, vm_gt, K_gt, matching_info):
    """
    WeightåŒ¹é…lossï¼šä¼˜åŒ–é¢„æµ‹çš„weightä¸GT weightçš„ä¸€è‡´æ€§

    ä½¿ç”¨å¯¹ç§°KLæ•£åº¦ï¼š(KL(p||q) + KL(q||p)) / 2
    """
    B = w_pred.size(0)
    loss_vec = torch.zeros(B, device=device)

    for b in range(B):
        K = int(K_gt[b].item())
        row, col = matching_info[b]

        wp_matched = w_pred[b, row]
        wg_matched = vm_gt[b, col, 2]

        wp_matched = torch.clamp(wp_matched, min=1e-6, max=1.0)
        wg_matched = torch.clamp(wg_matched, min=1e-6, max=1.0)

        kl_pq = torch.sum(wg_matched * torch.log(wg_matched / wp_matched))
        kl_qp = torch.sum(wp_matched * torch.log(wp_matched / wg_matched))

        loss_vec[b] = (kl_pq + kl_qp) / 2

    return loss_vec
```

### 3.3 ä¿®æ”¹è®­ç»ƒå¾ªç¯

```python
# æ”¹åŠ¨å‰
loss_vec = match_loss(mu_pred, kappa_pred, w_pred, vm_gt, K)
loss = loss_vec.mean()

# æ”¹åŠ¨å
kl_loss_vec, matching_info = match_loss(..., return_matching=True)
w_loss_vec = weight_loss(w_pred, vm_gt, K, matching_info)
loss = kl_loss_vec.mean() + 0.1 * w_loss_vec.mean()
```

**æƒé‡ç³»æ•°0.1çš„é€‰æ‹©**:
- KL lossä¸»å¯¼ï¼ˆä¼˜åŒ–Î¼å’ŒÎºçš„å‡†ç¡®æ€§ï¼‰
- Weight lossè¾…åŠ©ï¼ˆé¼“åŠ±æƒé‡å‡åŒ€ï¼‰
- å¦‚æœæƒé‡è¿‡å¤§ï¼ˆå¦‚0.5ï¼‰ï¼Œå¯èƒ½ç‰ºç‰²Î¼/Îºå‡†ç¡®æ€§æ¥å¼ºåˆ¶å‡åŒ€æƒé‡

---

## 4. æ”¹è¿›çš„å¯è§†åŒ–

ä¸ºäº†è®©ç”¨æˆ·çœ‹åˆ°æ‰€æœ‰4ä¸ªå³°ï¼ˆå³ä½¿weightä¸å‡ï¼‰ï¼Œåˆ›å»ºäº†æ”¹è¿›çš„å¯è§†åŒ–è„šæœ¬`vis_improved_4peaks.py`ï¼š

### 4.1 å¯è§†åŒ–æ”¹è¿›ç‚¹

1. âœ… **æ˜¾å¼æ ‡æ³¨æ‰€æœ‰4ä¸ªå³°çš„ä½ç½®**ï¼ˆç”¨ç®­å¤´å’Œæ–‡å­—ï¼‰
2. âœ… **åˆ†åˆ«ç»˜åˆ¶æ¯ä¸ªvon Misesåˆ†é‡**ï¼ˆåŠé€æ˜ï¼Œalphaä¸weightæˆæ­£æ¯”ï¼‰
3. âœ… **WeightæŸ±çŠ¶å›¾å¯¹æ¯”**ï¼ˆç›´è§‚å±•ç¤ºä¸å¹³è¡¡é—®é¢˜ï¼‰
4. âœ… **ç”¨é¢œè‰²/å¤§å°åŒºåˆ†weightå·®å¼‚**

### 4.2 å¯è§†åŒ–å¸ƒå±€

æ¯ä¸ªæ ·æœ¬ç”Ÿæˆä¸€ä¸ª3è¡Œ2åˆ—çš„å¤åˆå›¾ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  GT: 4ä¸ªåˆ†é‡ï¼ˆåŠé€æ˜ï¼‰+æ€»åˆ†å¸ƒ   â”‚  é¢„æµ‹: 4ä¸ªåˆ†é‡+æ€»åˆ†å¸ƒ           â”‚
â”‚  (æ‰€æœ‰å³°ç­‰é«˜ï¼Œweight=0.25)     â”‚  (å³°é«˜åº¦ä¸weightæˆæ­£æ¯”)         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚             GT vs é¢„æµ‹ å¯¹æ¯”ï¼ˆæåæ ‡å åŠ ï¼‰                          â”‚
â”‚   æ ‡æ³¨æ‰€æœ‰4ä¸ªGTå³° + æ‰€æœ‰4ä¸ªé¢„æµ‹å³°                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚          WeightæŸ±çŠ¶å›¾å¯¹æ¯”ï¼ˆGTè“è‰² vs é¢„æµ‹çº¢è‰²ï¼‰                     â”‚
â”‚          ç†æƒ³å€¼å‚è€ƒçº¿ï¼ˆ0.25ï¼‰                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.3 ç”Ÿæˆçš„å¯è§†åŒ–

**è¾“å‡ºç›®å½•**: `results/improved_4peaks_visualization_20251113/`

- `model1_augmented_sample_00.png` ~ `05.png` (å¢å¼ºç‰ˆæ¨¡å‹)
- `model2_noaugment_sample_00.png` ~ `05.png` (æ— å¢å¼ºç‰ˆæ¨¡å‹)
- `weight_imbalance_analysis.md` (é—®é¢˜åˆ†ææŠ¥å‘Š)

**æ¯ä¸ªå›¾åƒ**: 1.2MB @ 300 DPIï¼ˆè®ºæ–‡çº§è´¨é‡ï¼‰

---

## 5. é‡æ–°è®­ç»ƒå®éªŒ

### 5.1 å®éªŒé…ç½®

**è®­ç»ƒè„šæœ¬**: `train_pointnetpp_mvm_glassbox_fixed_weight.py`

**å…³é”®å‚æ•°**:
```python
# æ¨¡å‹
max_K = 4
temp = 2.0          # æ”¹è¿›ï¼ï¼ˆä¹‹å‰0.7ï¼‰
kappa_max = 200.0
p_drop = 0.4

# è®­ç»ƒ
epochs = 50
batch_size = 8
learning_rate = 5e-4

# æ•°æ®å¢å¼º
rotation_angles = [0Â°, 30Â°, ..., 330Â°]  # 12ä¸ª
apply_jitter = True
jitter_std = 0.01

# Lossæƒé‡
kl_weight = 1.0
weight_kl_weight = 0.1   # æ”¹è¿›ï¼ï¼ˆæ–°å¢ï¼‰
```

### 5.2 é¢„æœŸç»“æœ

**å¦‚æœä¿®å¤æˆåŠŸ**:
- âœ… Weightåˆ†å¸ƒæ¥è¿‘[0.25, 0.25, 0.25, 0.25]ï¼ˆå‡åŒ€ï¼‰
- âœ… Î¼ä½ç½®ä»ç„¶å‡†ç¡®ï¼ˆ[0Â°, 90Â°, 180Â°, 270Â°]é™„è¿‘ï¼‰
- âœ… å¯è§†åŒ–æ˜¾ç¤ºæ¸…æ™°çš„4ä¸ªå³°
- âœ… Val Lossåº”è¯¥æ¥è¿‘æˆ–æ›´å¥½äºä¹‹å‰çš„0.0017

**å¦‚æœä¿®å¤ä¸å®Œå…¨**:
- âš ï¸ Weightæœ‰æ”¹å–„ä½†ä¸å®Œç¾ï¼ˆå¦‚[0.4, 0.3, 0.2, 0.1]ï¼‰
- â†’ éœ€è¦è°ƒæ•´weight_kl_weightï¼ˆä»0.1å¢åŠ åˆ°0.2æˆ–0.5ï¼‰
- â†’ æˆ–å¢åŠ tempï¼ˆä»2.0å¢åŠ åˆ°3.0æˆ–4.0ï¼‰

### 5.3 è®­ç»ƒè¿›åº¦

**çŠ¶æ€**: ğŸ”§ è®­ç»ƒä¸­ï¼ˆåå°è¿è¡Œï¼‰

**æ—¥å¿—**: `training_fixed_weight.log`

**é¢„è®¡æ—¶é—´**: 50åˆ†é’Ÿï¼ˆ50 epochsï¼‰

**è¾“å‡ºç›®å½•**: `results/glassbox_fixed_weight_YYYYMMDD_HHMMSS/`

---

## 6. æ–‡ä»¶æ¸…å•

### 6.1 æ–°åˆ›å»ºçš„æ–‡ä»¶

| æ–‡ä»¶ | ç”¨é€” | çŠ¶æ€ |
|------|------|------|
| `debug_visualization.py` | è°ƒè¯•è„šæœ¬ï¼Œæ£€æŸ¥GTå’Œé¢„æµ‹ | âœ… å·²å®Œæˆ |
| `vis_improved_4peaks.py` | æ”¹è¿›çš„4å³°å¯è§†åŒ– | âœ… å·²å®Œæˆ |
| `train_pointnetpp_mvm_glassbox_fixed_weight.py` | ä¿®å¤ç‰ˆè®­ç»ƒè„šæœ¬ | âœ… å·²å®Œæˆ |
| `results/improved_4peaks_visualization_20251113/` | æ”¹è¿›çš„å¯è§†åŒ–ç»“æœ | âœ… å·²ç”Ÿæˆ |
| `docs/experiments/experiment_20251113_weight_fix_summary.md` | æœ¬æ–‡æ¡£ | âœ… å·²å®Œæˆ |

### 6.2 ä¿®æ”¹çš„æ–‡ä»¶

| æ–‡ä»¶ | ä¿®æ”¹å†…å®¹ | çŠ¶æ€ |
|------|---------|------|
| `models/pointnet_pp_mvM.py` | temp: 0.7 â†’ 2.0 | âœ… å·²ä¿®æ”¹ |

---

## 7. å…³é”®å‘ç°ä¸æ•™è®­

### 7.1 æŠ€æœ¯å‘ç°

1. **æ¸©åº¦å‚æ•°çš„é‡è¦æ€§**
   - Softmaxæ¸©åº¦ä¸ä»…å½±å“æ¢¯åº¦æµï¼Œè¿˜ç›´æ¥å½±å“è¾“å‡ºåˆ†å¸ƒå½¢çŠ¶
   - å¯¹äºå¯¹ç§°ç‰©ä½“ï¼Œåº”ä½¿ç”¨`temp >= 1`é¼“åŠ±å‡åŒ€åˆ†å¸ƒ
   - `temp < 1`ä¼šå¯¼è‡´winner-take-allæ•ˆåº”

2. **Lossè®¾è®¡çš„å®Œæ•´æ€§**
   - ä»…ç”¨weightåŠ æƒlossä¸è¶³ä»¥ä¼˜åŒ–weightæœ¬èº«
   - éœ€è¦æ˜¾å¼çš„weightåŒ¹é…loss
   - å¤šä¸ªlossé¡¹çš„æƒé‡å¹³è¡¡å¾ˆé‡è¦

3. **å¯è§†åŒ–çš„è¯Šæ–­ä»·å€¼**
   - åˆ†è§£æ˜¾ç¤ºæ¯ä¸ªMvMåˆ†é‡æ¯”åªæ˜¾ç¤ºæ€»åˆ†å¸ƒæ›´æœ‰è¯Šæ–­ä»·å€¼
   - WeightæŸ±çŠ¶å›¾èƒ½ç›´è§‚å±•ç¤ºé—®é¢˜
   - æåæ ‡å›¾+æŸ±çŠ¶å›¾ç»“åˆæ•ˆæœæœ€å¥½

### 7.2 è°ƒè¯•æŠ€å·§

1. **åˆ†é˜¶æ®µè°ƒè¯•**
   - å…ˆæ£€æŸ¥GTæ˜¯å¦æ­£ç¡®
   - å†æ£€æŸ¥æ¨¡å‹è¾“å‡ºï¼ˆåˆ†åˆ«æ£€æŸ¥Î¼, Îº, weightï¼‰
   - æœ€åæ£€æŸ¥å¯è§†åŒ–é€»è¾‘

2. **é‡åŒ–éªŒè¯**
   - ä¸ä»…çœ‹å¯è§†åŒ–ï¼Œè¿˜è¦æ‰“å°å…·ä½“æ•°å€¼
   - ç»Ÿè®¡å³°çš„æ•°é‡ï¼ˆç”¨scipy.signal.find_peaksï¼‰
   - å¯¹æ¯”é¢„æœŸå€¼å’Œå®é™…å€¼

3. **å¿«é€ŸåŸå‹**
   - å…ˆåœ¨å°æ ·æœ¬ä¸Šæµ‹è¯•ï¼ˆ10-20ä¸ªæ ·æœ¬ï¼‰
   - ç¡®è®¤é—®é¢˜åå†å¤§è§„æ¨¡è®­ç»ƒ
   - èŠ‚çœæ—¶é—´å’Œè®¡ç®—èµ„æº

### 7.3 è®ºæ–‡å†™ä½œå¯ç¤º

è¿™æ¬¡é—®é¢˜ä¿®å¤å¯ä»¥ä½œä¸ºè®ºæ–‡çš„ä¸€ä¸ªäº®ç‚¹ï¼š

**å¯ä»¥å†™çš„ç« èŠ‚**:
1. **Ablation Study**: tempå‚æ•°çš„å½±å“
2. **Loss Design**: Weightæ­£åˆ™åŒ–çš„å¿…è¦æ€§
3. **Failure Analysis**: ä¸ºä»€ä¹ˆåˆå§‹ç‰ˆæœ¬å¤±è´¥
4. **Solution**: å¦‚ä½•ç³»ç»Ÿåœ°è¯Šæ–­å’Œä¿®å¤é—®é¢˜

**å¯èƒ½çš„å›¾è¡¨**:
- å›¾A: Weightåˆ†å¸ƒå¯¹æ¯”ï¼ˆä¿®å¤å‰vsä¿®å¤åï¼‰
- å›¾B: Tempå‚æ•°æ‰«æï¼ˆ0.3, 0.7, 1.0, 2.0, 3.0ï¼‰
- å›¾C: Weight lossæƒé‡æ‰«æï¼ˆ0, 0.1, 0.3, 0.5ï¼‰
- è¡¨1: å®šé‡å¯¹æ¯”ï¼ˆä¿®å¤å‰åçš„å„é¡¹æŒ‡æ ‡ï¼‰

---

## 8. ä¸‹ä¸€æ­¥è®¡åˆ’

### 8.1 ç«‹å³ï¼ˆè®­ç»ƒå®Œæˆåï¼Œ~50åˆ†é’Ÿï¼‰

1. âœ… æ£€æŸ¥è®­ç»ƒæ—¥å¿—ï¼Œç¡®è®¤æ”¶æ•›
2. âœ… åŠ è½½è®­ç»ƒå¥½çš„æ¨¡å‹ï¼Œæ£€æŸ¥weightåˆ†å¸ƒ
3. âœ… ç”Ÿæˆä¿®å¤åçš„å¯è§†åŒ–å¯¹æ¯”
4. âœ… å¯¹æ¯”ä¿®å¤å‰åçš„4å³°è´¨é‡

### 8.2 çŸ­æœŸï¼ˆä»Šæ™š/æ˜å¤©ï¼‰

1. å¦‚æœä¿®å¤æˆåŠŸï¼š
   - æ›´æ–°ç»¼åˆå®éªŒæŠ¥å‘Š
   - é‡æ–°ç”Ÿæˆè®ºæ–‡çº§å¯è§†åŒ–ï¼ˆåŒ…å«ä¿®å¤åçš„æ¨¡å‹ï¼‰
   - æäº¤æ‰€æœ‰ä»£ç åˆ°GitHub

2. å¦‚æœä¿®å¤ä¸å®Œå…¨ï¼š
   - è°ƒæ•´hyperparametersï¼ˆtemp, weight_lossæƒé‡ï¼‰
   - å†æ¬¡è®­ç»ƒ
   - åˆ†æè¿˜éœ€è¦å“ªäº›æ”¹è¿›

### 8.3 ä¸­æœŸï¼ˆæœ¬å‘¨ï¼‰

1. æ‰©å±•åˆ°å…¶ä»–å¯¹ç§°ç‰©ä½“
   - æµ‹è¯•ä¿®å¤åçš„æ–¹æ³•åœ¨å…¶ä»–4å‘å¯¹ç§°ç±»åˆ«ä¸Šçš„æ•ˆæœ
   - éªŒè¯æ–¹æ³•çš„æ™®é€‚æ€§

2. æ¶ˆèå®éªŒ
   - tempå‚æ•°æ‰«æ
   - weight lossæƒé‡æ‰«æ
   - é‡åŒ–æ¯ä¸ªæ”¹è¿›çš„è´¡çŒ®

3. è®ºæ–‡æ’°å†™
   - æ’°å†™"Problem Diagnosis and Solution"ç« èŠ‚
   - å‡†å¤‡Failure Analysisçš„ç´ æ

---

## 9. æ€»ç»“

**é—®é¢˜**: 4å³°MvMæ¨¡å‹é¢„æµ‹çš„weightä¸¥é‡ä¸å¹³è¡¡ï¼ˆ[1, 0, 0, 0]è€Œé[0.25, 0.25, 0.25, 0.25]ï¼‰

**æ ¹æœ¬åŸå› **:
1. æ¸©åº¦å‚æ•°`temp=0.7`å¤ªå° â†’ softmaxå°–é”åŒ–
2. Losså‡½æ•°ç¼ºå°‘weightæ­£åˆ™åŒ– â†’ æœªä¼˜åŒ–weightå‡†ç¡®æ€§

**è§£å†³æ–¹æ¡ˆ**:
1. âœ… `temp`: 0.7 â†’ 2.0
2. âœ… æ·»åŠ weight KLæ•£åº¦loss
3. âœ… æ”¹è¿›å¯è§†åŒ–ï¼ˆæ˜¾å¼æ ‡æ³¨æ‰€æœ‰4ä¸ªå³°ï¼‰
4. ğŸ”§ é‡æ–°è®­ç»ƒä¸­...

**é¢„æœŸæ•ˆæœ**: Weightåˆ†å¸ƒå‡åŒ€ + Î¼ä½ç½®å‡†ç¡® = å®Œç¾çš„4å³°MvMé¢„æµ‹ ğŸ¯

---

**æ–‡æ¡£ç‰ˆæœ¬**: 1.0
**æœ€åæ›´æ–°**: 2025-11-13 21:50
**è®­ç»ƒçŠ¶æ€**: è¿›è¡Œä¸­ï¼ˆé¢„è®¡22:40å®Œæˆï¼‰
**ä¸‹æ¬¡æ›´æ–°**: è®­ç»ƒå®Œæˆå
